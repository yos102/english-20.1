<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××‘×—×Ÿ ×× ×’×œ×™×ª 108 ××™×œ×™× - ×›×™×ª×” ×“'</title>
    <style>
        :root { --primary: #4a90e2; --success: #48bb78; --error: #f56565; --bg: #f0f4f8; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: var(--bg); margin: 0; padding: 20px; line-height: 1.6; }
        .container { max-width: 950px; margin: auto; background: white; padding: 30px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2d3748; }
        h3 { border-right: 5px solid var(--primary); padding-right: 15px; background: #f8fbff; padding: 10px; border-radius: 0 10px 10px 0; margin-top: 30px; }
        
        .ltr-text { direction: ltr; text-align: left; unicode-bidi: bidi-override; }

        /* Matching Section */
        .matching-container { display: flex; justify-content: space-around; margin: 20px 0; }
        .column { display: flex; flex-direction: column; gap: 10px; }
        .match-item { 
            padding: 10px 15px; background: #edf2f7; border: 2px solid #cbd5e0; 
            border-radius: 10px; cursor: pointer; text-align: center; width: 140px;
            user-select: none; transition: 0.2s; font-weight: bold;
        }
        .match-item.selected { background: var(--primary); color: white; transform: scale(1.05); }
        .match-item.correct { background: var(--success) !important; color: white !important; cursor: default; }
        .match-item.wrong { background: var(--error) !important; color: white !important; }

        /* Drag and Drop */
        .drop-zone { 
            display: inline-block; min-width: 100px; padding: 5px; min-height: 30px; border-bottom: 3px solid var(--primary); 
            margin: 0 5px; vertical-align: middle; text-align: center; background: #f7fafc; border-radius: 5px 5px 0 0;
        }
        .drop-zone.wrong-ans { border-bottom: 3px solid var(--error); background: #fff5f5; color: var(--error); }
        .drop-zone.correct-ans { border-bottom: 3px solid var(--success); background: #f0fff4; color: var(--success); }
        
        .correction-text { color: var(--success); font-weight: bold; font-size: 0.9em; margin-right: 5px; }

        .drag-item { 
            display: inline-block; padding: 8px 16px; background: white; border: 2px solid var(--primary);
            border-radius: 12px; cursor: grab; margin: 5px; font-weight: bold; color: var(--primary);
            user-select: none;
        }
        .word-bank { background: #fff9c4; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: center; border: 2px dashed #fbc02d; min-height: 50px; }

        /* Images Grid */
        .img-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-top: 15px; }
        .img-card { background: #f8fbff; padding: 15px; border-radius: 15px; text-align: center; border: 1px solid #e2e8f0; }
        .emoji-img { font-size: 60px; line-height: 80px; display: block; margin-bottom: 10px; }
        
        .img-drop-zone {
            width: 85%; margin: 10px auto; padding: 10px; border: 2px dashed var(--primary);
            border-radius: 10px; background: white; min-height: 40px; font-weight: bold; color: #a0aec0;
        }
        .img-drop-zone.filled { color: var(--primary); border-style: solid; background: #eafaf1; }
        .img-drop-zone.wrong-ans { border-color: var(--error); color: var(--error); background: #fff5f5; }
        .img-drop-zone.correct-ans { border-color: var(--success); color: var(--success); background: #f0fff4; }

        .btn-check { display: block; width: 100%; padding: 20px; background: #2d3748; color: white; border: none; border-radius: 15px; font-size: 1.4em; cursor: pointer; margin-top: 40px; }
        .btn-check:hover { background: #1a202c; }
        
        #final-result { display:none; text-align:center; margin-top:30px; padding:20px; border-radius:15px; font-size: 1.5rem; }
        .btn-reload { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; margin-top: 15px; font-size: 1rem; }

        .speak-btn {
            background: none; border: none; cursor: pointer; font-size: 1.2rem; margin-left: 10px; vertical-align: middle;
        }
        .sentence-row { margin-bottom: 15px; display: flex; align-items: center; }
    </style>
</head>
<body>

<div class="container">
    <h1>×”××‘×—×Ÿ ×”×’×“×•×œ ×‘×× ×’×œ×™×ª - ×›×™×ª×” ×“'</h1>
    <p style="text-align: center; font-weight: bold; color: #718096;">×›×œ 108 ×”××™×œ×™× ×œ×¤×™ ×”×¡×“×¨ ×”××“×•×™×§! ×œ×—×¥ ×¢×œ ğŸ”Š ×œ×©××™×¢×ª ×”××©×¤×˜.</p>

    <div class="question-card">
        <h3>1. ××©×—×§ ×”×–×™×›×¨×•×Ÿ: ×”×ª×× ×‘×™×Ÿ ×× ×’×œ×™×ª ×œ×¢×‘×¨×™×ª</h3>
        <div class="matching-container" id="matching-game">
            <div class="column" id="english-cols"></div>
            <div class="column" id="hebrew-cols"></div>
        </div>
    </div>

    <div class="question-card">
        <h3>2. ×”×©×œ× ××ª ×”××©×¤×˜×™× (×’×¨×•×¨ ××”××—×¡×Ÿ ×”×¦×”×•×‘)</h3>
        <div id="sentence-bank" class="word-bank"></div>
        <div id="drag-questions" class="ltr-text"></div>
    </div>

    <div class="question-card">
        <h3>3. ××” ×‘×ª××•× ×”? (×’×¨×•×¨ ××”××—×¡×Ÿ ×”×¦×”×•×‘)</h3>
        <div id="img-bank" class="word-bank"></div>
        <div id="image-questions" class="img-grid"></div>
    </div>

    <button class="btn-check" id="main-check-btn" onclick="calculateGrade()">×¡×™×™××ª×™! ×‘×“×•×§ ×œ×™ ××ª ×”×¦×™×•×Ÿ ğŸ“</button>
    
    <div id="final-result"></div>
</div>

<script>
    const fullMasterList = [
        // ×“×£ 1
        { en: "food", he: "××•×›×œ", emoji: "ğŸ±" }, { en: "drinks", he: "×©×ª×™×™×”", emoji: "ğŸ¥¤" }, { en: "chocolate", he: "×©×•×§×•×œ×“", emoji: "ğŸ«" },
        { en: "coffee", he: "×§×¤×”", emoji: "â˜•" }, { en: "cookie", he: "×¢×•×’×™×™×”", emoji: "ğŸª" }, { en: "jam", he: "×¨×™×‘×”", emoji: "ğŸ¯" },
        { en: "juice", he: "××™×¥", emoji: "ğŸ§ƒ" }, { en: "salad", he: "×¡×œ×˜", emoji: "ğŸ¥—" }, { en: "sandwich", he: "×¡× ×“×•×•×™×¥'", emoji: "ğŸ¥ª" },
        { en: "tea", he: "×ª×”", emoji: "ğŸµ" }, { en: "water", he: "××™×", emoji: "ğŸ’§" }, { en: "apple", he: "×ª×¤×•×—", emoji: "ğŸ" },
        { en: "lemon", he: "×œ×™××•×Ÿ", emoji: "ğŸ‹" }, { en: "pizza", he: "×¤×™×¦×”", emoji: "ğŸ•" }, { en: "egg", he: "×‘×™×¦×”", emoji: "ğŸ¥š" },
        { en: "drink", he: "×œ×©×ª×•×ª", emoji: "ğŸ¥›" }, { en: "eat", he: "×œ××›×•×œ", emoji: "ğŸ½ï¸" },
        // ×“×£ 2
        { en: "sister", he: "××—×•×ª", emoji: "ğŸ‘§" }, { en: "dad", he: "××‘×", emoji: "ğŸ‘¨" }, { en: "baby", he: "×ª×™× ×•×§", emoji: "ğŸ‘¶" },
        { en: "mom", he: "×××", emoji: "ğŸ‘©" }, { en: "bananas", he: "×‘× × ×•×ª", emoji: "ğŸŒ" }, { en: "milk", he: "×—×œ×‘", emoji: "ğŸ¼" },
        { en: "grandmother", he: "×¡×‘×ª×", emoji: "ğŸ‘µ" }, { en: "grandfather", he: "×¡×‘×", emoji: "ğŸ‘´" }, { en: "family", he: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦" },
        { en: "cheese", he: "×’×‘×™× ×”", emoji: "ğŸ§€" }, { en: "chicken", he: "×¢×•×£", emoji: "ğŸ—" }, { en: "children", he: "×™×œ×“×™×", emoji: "ğŸ§’" },
        { en: "chips", he: "×¦'×™×¤×¡", emoji: "ğŸŸ" }, { en: "kitchen", he: "××˜×‘×—", emoji: "ğŸ³" }, { en: "spinach", he: "×ª×¨×“", emoji: "ğŸ¥¬" },
        { en: "chair", he: "×›×™×¡×", emoji: "ğŸª‘" }, { en: "teacher", he: "××•×¨×”", emoji: "ğŸ‘©â€ğŸ«" }, { en: "what do you want?", he: "××” ××ª×” ×¨×•×¦×”?", emoji: "â“" },
        // ×“×£ 3
        { en: "under", he: "××ª×—×ª", emoji: "ğŸ“¦" }, { en: "on", he: "×¢×œ", emoji: "ğŸ”" }, { en: "in", he: "×‘×ª×•×š", emoji: "ğŸ“¥" },
        { en: "I like", he: "×× ×™ ××•×”×‘", emoji: "ğŸ‘" }, { en: "I don't like", he: "×× ×™ ×œ× ××•×”×‘", emoji: "ğŸ‘" }, { en: "bread", he: "×œ×—×", emoji: "ğŸ" },
        { en: "fish", he: "×“×’", emoji: "ğŸŸ" }, { en: "hungry", he: "×¨×¢×‘", emoji: "ğŸ˜‹" }, { en: "meat", he: "×‘×©×¨", emoji: "ğŸ¥©" },
        { en: "restaurant", he: "××¡×¢×“×”", emoji: "ğŸ´" }, { en: "I'm hungry", he: "×× ×™ ×¨×¢×‘", emoji: "ğŸ¥£" }, { en: "both", he: "×©× ×™×”×", emoji: "ğŸ‘­" },
        { en: "jam", he: "×¨×™×‘×”", emoji: "ğŸ¯" }, { en: "I want", he: "×× ×™ ×¨×•×¦×”", emoji: "ğŸ™‹" }, { en: "shop", he: "×—× ×•×ª", emoji: "ğŸª" },
        { en: "milkshake", he: "××™×œ×§×©×™×™×§", emoji: "ğŸ¥¤" }, { en: "short", he: "×§×¦×¨/× ××•×š", emoji: "ğŸ“" }, { en: "wash", he: "×œ×©×˜×•×£", emoji: "ğŸ§¼" },
        { en: "share", he: "×œ×—×œ×•×§", emoji: "ğŸ¤" },
        // ×“×£ 4
        { en: "(to) shop", he: "×œ×§× ×•×ª", emoji: "ğŸ›’" }, { en: "shopping", he: "×§× ×™×•×ª", emoji: "ğŸ›ï¸" }, { en: "I need", he: "×× ×™ ×¦×¨×™×š", emoji: "ğŸ›" },
        { en: "I have", he: "×™×© ×œ×™", emoji: "ğŸ¤²" }, { en: "I want", he: "×× ×™ ×¨×•×¦×”", emoji: "ğŸ™‹â€â™‚ï¸" }, { en: "carrot", he: "×’×–×¨", emoji: "ğŸ¥•" },
        { en: "fruit", he: "×¤×™×¨×•×ª", emoji: "ğŸ‡" }, { en: "onion", he: "×‘×¦×œ", emoji: "ğŸ§…" }, { en: "peppers", he: "×¤×œ×¤×œ×™×", emoji: "ğŸ«‘" },
        { en: "table", he: "×©×•×œ×—×Ÿ", emoji: "ğŸ§±" }, { en: "tomato", he: "×¢×’×‘× ×™×™×”", emoji: "ğŸ…" }, { en: "vegetables", he: "×™×¨×§×•×ª", emoji: "ğŸ¥¦" },
        { en: "tuna fish", he: "×˜×•× ×”", emoji: "ğŸ¥«" }, { en: "cake", he: "×¢×•×’×”", emoji: "ğŸ‚" }, { en: "list", he: "×¨×©×™××”", emoji: "ğŸ“‹" },
        { en: "put", he: "×œ×©×™×", emoji: "ğŸ“¥" }, { en: "birthday", he: "×™×•× ×”×•×œ×“×ª", emoji: "ğŸˆ" }, { en: "mouth", he: "×¤×”", emoji: "ğŸ‘„" }, { en: "teeth", he: "×©×™× ×™×™×", emoji: "ğŸ¦·" },
        // ×“×£ 5
        { en: "thirsty", he: "×¦××", emoji: "ğŸ¥µ" }, { en: "brother", he: "××—", emoji: "ğŸ‘¦" }, { en: "father", he: "××‘×", emoji: "ğŸ‘¨â€ğŸ’¼" },
        { en: "mother", he: "×××", emoji: "ğŸ‘©â€ğŸ’¼" }, { en: "sing", he: "×œ×©×™×¨", emoji: "ğŸ¤" }, { en: "party", he: "××¡×™×‘×”", emoji: "ğŸ¥³" },
        { en: "gift", he: "××ª× ×”", emoji: "ğŸ" }, { en: "thank you", he: "×ª×•×“×”", emoji: "ğŸ™" }, { en: "color", he: "×¦×‘×¢", emoji: "ğŸ¨" },
        { en: "number", he: "××¡×¤×¨", emoji: "ğŸ”¢" }, { en: "favorite", he: "××”×•×‘", emoji: "ğŸ’–" },
        { en: "eleven", he: "11" }, { en: "twelve", he: "12" }, { en: "thirteen", he: "13" }, { en: "fourteen", he: "14" },
        { en: "fifteen", he: "15" }, { en: "sixteen", he: "16" }, { en: "seventeen", he: "17" }, { en: "eighteen", he: "18" },
        // ×“×£ 6
        { en: "nineteen", he: "19" }, { en: "twenty", he: "20" },
        { en: "Sunday", he: "×™×•× ×¨××©×•×Ÿ", emoji: "ğŸ—“ï¸" }, { en: "Monday", he: "×™×•× ×©× ×™", emoji: "ğŸ—“ï¸" }, { en: "Tuesday", he: "×™×•× ×©×œ×™×©×™", emoji: "ğŸ—“ï¸" },
        { en: "Wednesday", he: "×™×•× ×¨×‘×™×¢×™", emoji: "ğŸ—“ï¸" }, { en: "Thursday", he: "×™×•× ×—××™×©×™", emoji: "ğŸ—“ï¸" }, { en: "Friday", he: "×™×•× ×©×™×©×™", emoji: "ğŸ—“ï¸" },
        { en: "Saturday", he: "×™×•× ×©×‘×ª", emoji: "ğŸ—“ï¸" }, { en: "what day is today?", he: "××™×–×” ×™×•× ×”×™×•×?", emoji: "â“" },
        { en: "yesterday", he: "××ª××•×œ", emoji: "âª" }, { en: "today", he: "×”×™×•×", emoji: "ğŸ”½" }, { en: "breakfast", he: "××¨×•×—×ª ×‘×•×§×¨", emoji: "ğŸ³" },
        { en: "lunch", he: "××¨×•×—×ª ×¦×”×¨×™×™×", emoji: "ğŸ±" }, { en: "dinner", he: "××¨×•×—×ª ×¢×¨×‘", emoji: "ğŸ¥˜" }, { en: "what time is it?", he: "××” ×”×©×¢×”?", emoji: "âŒš" },
        { en: "ice cream", he: "×’×œ×™×“×”", emoji: "ğŸ¦" }, { en: "tomorrow", he: "××—×¨", emoji: "â©" }
    ];

    const allSentences = [
        { q: "I sit on a ____.", a: "chair" },
        { q: "The baby drinks ____.", a: "milk" },
        { q: "I'm ____, I want to drink water.", a: "thirsty" },
        { q: "I eat a ____ for breakfast.", a: "egg" },
        { q: "My ____ is a teacher.", a: "mom" },
        { q: "We have a ____ today! ğŸˆ", a: "party" },
        { q: "I am ____, I want to eat pizza.", a: "hungry" },
        { q: "I have a ____ for your birthday.", a: "gift" },
        { q: "I like ____ with my hamburger.", a: "chips" },
        { q: "A ____ is red and round.", a: "tomato" },
        { q: "We go ____ on Fridays.", a: "shopping" },
        { q: "I like to ____ a happy song.", a: "sing" },
        { q: "My ____ is 10 years old.", a: "sister" },
        { q: "I like sweet chocolate ____.", a: "chocolate" },
        { q: "Can I have some orange ____? ğŸ", a: "juice" },
        { q: "The dog is ____ the table.", a: "under" },
        { q: "I put red ____ on the bread.", a: "jam" },
        { q: "I ____ a new pencil for school.", a: "need" }
    ];

    let correctMatchesCount = 0;
    let selectedEng = null;
    let wordsUsedInOtherTasks = new Set();

    function speak(text) {
        const msg = new SpeechSynthesisUtterance();
        msg.text = text.replace("____", "blank");
        msg.lang = 'en-US';
        window.speechSynthesis.speak(msg);
    }

    function init() {
        const selectedSentences = [...allSentences].sort(() => 0.5 - Math.random()).slice(0, 8);
        const selectedEmojis = fullMasterList.filter(x => x.emoji).sort(() => 0.5 - Math.random()).slice(0, 8);

        selectedSentences.forEach(s => wordsUsedInOtherTasks.add(s.a));
        selectedEmojis.forEach(e => wordsUsedInOtherTasks.add(e.en));

        const unusedWords = fullMasterList.filter(w => !wordsUsedInOtherTasks.has(w.en));
        const matchPool = [...unusedWords.sort(() => 0.5 - Math.random()).slice(0, 8)];
        
        const engCols = document.getElementById('english-cols');
        const hebCols = document.getElementById('hebrew-cols');
        const shuffledHeb = [...matchPool].sort(() => 0.5 - Math.random());

        matchPool.forEach(item => {
            const div = document.createElement('div');
            div.className = 'match-item';
            div.innerText = item.en;
            div.dataset.val = item.en;
            div.onclick = () => {
                if(div.classList.contains('correct')) return;
                if(selectedEng) selectedEng.classList.remove('selected');
                selectedEng = div;
                div.classList.add('selected');
            };
            engCols.appendChild(div);
        });

        shuffledHeb.forEach(item => {
            const div = document.createElement('div');
            div.className = 'match-item';
            div.innerText = item.he;
            div.onclick = () => {
                if(div.classList.contains('correct')) return;
                if(selectedEng) {
                    const engVal = selectedEng.dataset.val;
                    if(fullMasterList.find(v => v.en === engVal).he === item.he) {
                        selectedEng.className = 'match-item correct';
                        div.className = 'match-item correct';
                        selectedEng = null;
                        correctMatchesCount++;
                    }
                }
            };
            hebCols.appendChild(div);
        });

        const sBank = document.getElementById('sentence-bank');
        const sQuest = document.getElementById('drag-questions');
        selectedSentences.forEach((s, idx) => {
            sBank.appendChild(createDragItem(s.a));
            const div = document.createElement('div');
            div.className = "sentence-row";
            div.innerHTML = `
                <button class="speak-btn" onclick="speak('${s.q}')">ğŸ”Š</button>
                <span>${s.q.replace('____', `<div class="drop-zone" data-ans="${s.a}" id="s-zone-${idx}" ondrop="drop(event)" ondragover="allowDrop(event)"></div>`)}</span>
            `;
            sQuest.appendChild(div);
        });

        const iBank = document.getElementById('img-bank');
        const iQuest = document.getElementById('image-questions');
        selectedEmojis.forEach((item, idx) => {
            iBank.appendChild(createDragItem(item.en));
            const card = document.createElement('div');
            card.className = 'img-card';
            card.innerHTML = `
                <span class="emoji-img">${item.emoji}</span>
                <div class="img-drop-zone" id="i-zone-${idx}" data-ans="${item.en}" ondrop="drop(event)" ondragover="allowDrop(event)">×’×¨×•×¨ ×œ×›××Ÿ...</div>
            `;
            iQuest.appendChild(card);
        });
        
        shuffleChildren(sBank);
        shuffleChildren(iBank);
    }

    function createDragItem(text) {
        const div = document.createElement('div');
        div.className = 'drag-item';
        div.innerText = text;
        div.draggable = true;
        div.ondragstart = (e) => e.dataTransfer.setData("text", text);
        return div;
    }

    function shuffleChildren(parent) {
        for (let i = parent.children.length; i >= 0; i--) {
            parent.appendChild(parent.children[Math.random() * i | 0]);
        }
    }

    function allowDrop(e) { e.preventDefault(); }
    
    function drop(e) {
        e.preventDefault();
        const data = e.dataTransfer.getData("text");
        e.target.innerText = data;
        e.target.classList.add('filled');
    }

    function calculateGrade() {
        let finalScore = 0;
        const totalMatch = 8;
        const totalSent = 8;
        const totalImg = 8;

        document.querySelectorAll('.match-item').forEach(item => {
            if(!item.classList.contains('correct')) item.classList.add('wrong');
        });
        finalScore += (correctMatchesCount / totalMatch) * 30;

        let correctS = 0;
        document.querySelectorAll('.drop-zone').forEach(zone => {
            if(zone.innerText.trim() === zone.dataset.ans) {
                correctS++;
                zone.className = "drop-zone correct-ans";
            } else {
                zone.className = "drop-zone wrong-ans";
                const span = document.createElement('span');
                span.className = "correction-text";
                span.innerText = ` (${zone.dataset.ans})`;
                zone.after(span);
            }
        });
        finalScore += (correctS / totalSent) * 35;

        let correctI = 0;
        document.querySelectorAll('.img-drop-zone').forEach(zone => {
            if(zone.innerText.trim() === zone.dataset.ans) {
                correctI++;
                zone.className = "img-drop-zone correct-ans";
            } else {
                zone.className = "img-drop-zone wrong-ans";
                zone.innerText += ` -> ${zone.dataset.ans}`;
            }
        });
        finalScore += (correctI / totalImg) * 35;

        const resultDiv = document.getElementById('final-result');
        resultDiv.style.display = "block";
        const total = Math.round(finalScore);
        resultDiv.innerHTML = `
            <h2>×”×¦×™×•×Ÿ ×©×œ×š: ${total}</h2>
            <p>${total >= 90 ? "××“×”×™×! ×¤×©×•×˜ ××œ×•×£!" : "×›×œ ×”×›×‘×•×“! ×ª××©×™×š ×œ×”×ª×××Ÿ!"}</p>
            <button class="btn-reload" onclick="location.reload()">××‘×—×Ÿ ×—×“×© (××™×œ×™× ××—×¨×•×ª) ğŸ”„</button>
        `;
        document.getElementById('main-check-btn').style.display = 'none';
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }

    init();
</script>
</body>
</html>